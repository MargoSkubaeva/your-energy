const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DWeE5lQs.js","assets/vendor-DnveWo0P.css"])))=>i.map(i=>d[i]);
/* empty css                      */import{i as f,a as v}from"./assets/vendor-DWeE5lQs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();f.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const C=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),y={success:{iconUrl:C?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:C?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},j="https://your-energy.b.goit.study/api";v.defaults.baseURL=j;const z=async e=>{const{data:t}=await v.post("/subscription",{email:e});return t},N={404:"Exercises not found for the given filters.",409:"Filters are required to perform the search.",500:"Something went wrong while fetching exercises. Please try again later."},J={400:"Invalid request. Please check the body.",404:"Exercise not found. Please ensure the exercise ID is correct.",409:"Rating update conflict. The rating already exists with this email.",500:"Something went wrong while updating the rating. Please try again later."},V={400:"Invalid request. Please check the exercise ID format.",404:"Exercise not found with the provided ID.",500:"Something went wrong while fetching the exercise. Please try again later."},Q={400:"Invalid request. Please check the email format.",404:"Endpoint not found. Please try again later.",409:"You are already subscribed.",500:"Something went wrong on the server. Please try again later."},W=async e=>{try{const{message:t}=await z(e);return f.show({...y.success,message:t,timeout:5e3}),t}catch(t){const{status:o}=t,n=Q[o]||`Unexpected error (${t.message||"unknown"})`;throw f.show({...y.error,message:n}),{code:o,message:n}}},L={scrollToTopBtn:document.querySelector(".js-scroll-to-top-btn"),exercisesContainer:document.getElementById("exercise-cards-container")},s={modalExercises:document.getElementById("exerciseModal"),modalRating:document.getElementById("ratingModal"),modalTitle:document.getElementById("modalTitle"),modalRatingValue:document.getElementById("modalRating"),modalImage:document.getElementById("modalImage"),modalTarget:document.getElementById("modalTarget"),modalBodyPart:document.getElementById("modalBodyPart"),modalEquipment:document.getElementById("modalEquipment"),modalPopular:document.getElementById("modalPopular"),modalCalories:document.getElementById("modalCalories"),modalDescription:document.getElementById("modalDescription"),stars:document.querySelectorAll(".star"),favoriteButton:document.getElementById("favoriteButton"),ratingButton:document.getElementById("ratingButton"),closeModalBtn:document.getElementById("closeModalBtn")},u={burgerButton:document.querySelector(".js-burger-button"),mobileMenu:document.querySelector(".mobile-menu-js"),backdrop:document.querySelector(".mobile-backdrop-js"),closeButton:document.querySelector(".mobile-menu-close-js"),navLinks:document.querySelectorAll(".nav-links.mobile-menu .nav-link")};document.getElementById("pagination");document.querySelector(".cards-container"),document.querySelectorAll(".filter-btn"),document.querySelector(".home-title"),document.querySelector(".current-category-name"),document.querySelector(".search");function X(){const e=window.innerHeight/4;window.scrollY>e?L.scrollToTopBtn.classList.remove("invisible"):L.scrollToTopBtn.classList.add("invisible")}function K(){window.scrollTo({top:0,behavior:"smooth"})}const Y=e=>{const t=e.getAttribute("href");return new URL(t).pathname},G=()=>{const e=document.querySelectorAll(".nav-link"),t=window.location.pathname;e.forEach(o=>{Y(o)===t?o.classList.add("active"):o.classList.remove("active")})},Z=()=>{document.body.style.overflow="hidden"},ee=()=>{document.body.style.overflow=""},te=()=>{u.backdrop.style.visibility="visible",u.backdrop.style.opacity=1,u.mobileMenu.style.transform="translateX(0%)",Z()},oe=e=>{e.target===u.backdrop&&x()},ne=e=>{e.key==="Escape"&&u.mobileMenu.style.transform==="translateX(0%)"&&x()},E=()=>{x()},x=()=>{u.mobileMenu.style.transform="translateX(100%)",setTimeout(()=>{u.backdrop.style.opacity=0,u.backdrop.style.visibility="hidden",ee()},300)},re=async(e,t)=>{const{data:o}=await v.patch(`/exercises/${e}/rating`,{...t});return o},se=async e=>{const{data:t}=await v.get(`/exercises/${e}`);return t},ae=async(e,t)=>{try{const o=await re(e,t);return f.show({...y.success,message:"Your rating has been successfully added"}),o}catch(o){const{status:n}=o,r=J[n]||`Unexpected error (${o.message||"unknown"})`;throw f.show({...y.error,message:r}),{code:n,message:r}}},ie=async e=>{try{return await se(e)}catch(t){const{status:o}=t,n=V[o]||`Unexpected error (${t.message||"unknown"})`;throw f.show({...y.error,message:n}),{code:o,message:n}}};function ce(e,t,o=!0){if(!t||t.length===0){e.innerHTML="";return}const n=t.map(r=>`
    <li class="workout-list-item">
      <div class="workout-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          ${o?`
            <button class="delete-button js-delete-button" aria-label="Delete workout" data-exercise-id=${r._id}>
              <img src="/img/trash-icon.svg" alt="Delete" width="16" height="16">
            </button>
          `:""}
          <button class="start-button" data-exercise-id=${r._id}>Start âž”</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="/img/quote_icon_1.svg"
              width="24"
              height="24"
              alt="Running Icon"
            >
          </span>
          <h3 class="workout-name">${r.name}</h3>
          <p class="workout-stats">
            Burned calories: ${r.burnedCalories} / ${r.time} min
            <br>
            Body part: ${r.bodyPart} <br>  Target: ${r.target}
          </p>
        </div>
      </div>
    </li>
    `).join("");e.innerHTML=n}function A(){s.favoriteButton.innerHTML=`
    Add to favorites
    <svg>
      <use href="./img/sprite.svg#heart"></use>
    </svg>`}function O(){s.favoriteButton.innerHTML=`
    Remove from favorites
    <svg>
      <use href="./img/sprite.svg#trash"></use>
    </svg>`}function le(e,t){const o=e.findIndex(n=>n._id===t._id);o===-1?(e.push(t),O()):(e.splice(o,1),A()),localStorage.setItem("favorites",JSON.stringify(e))}function de(e){const t=e.target.closest(".js-delete-button");if(!t)return;const o=t.dataset.exerciseId,n=localStorage.getItem("favorites"),a=(n?JSON.parse(n):[]).filter(i=>i._id!==o);localStorage.setItem("favorites",JSON.stringify(a)),M()}function M(){const e=document.querySelector(".workout-list"),t=document.querySelector(".not-items-message");if(!e||!t)return;let o=[];try{const n=localStorage.getItem("favorites");o=n?JSON.parse(n):[]}catch{o=[]}if(!o.length){e.innerHTML="",t.hidden=!1;return}t.hidden=!0,ce(e,o),document.querySelectorAll(".js-delete-button").forEach(n=>{n.addEventListener("click",de)})}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ue(e){s.modalRating.exerciseData=e,s.modalTitle.textContent=b(e.name),s.modalRatingValue.textContent=e.rating,s.modalImage.src=e.gifUrl,s.modalImage.alt=e.name,s.modalTarget.textContent=b(e.target),s.modalBodyPart.textContent=b(e.bodyPart),s.modalEquipment.textContent=b(e.equipment),s.modalPopular.textContent=e.popularity,s.modalCalories.textContent=`${e.burnedCalories}/${e.time} min`,s.modalDescription.textContent=e.description,s.stars.forEach((a,i)=>{i<Math.floor(e.rating)?a.classList.add("filled"):a.classList.remove("filled")});const t=JSON.parse(localStorage.getItem("favorites")||"[]");t.some(a=>a._id===e._id)?O():A();const n=()=>le(t,e);s.favoriteButton.addEventListener("click",n),s.closeModalBtn.addEventListener("click",T);const r=a=>{a.target===s.modalExercises?T():a.target===s.modalRating&&S()};window.addEventListener("click",r),s.modalExercises._windowClickHandler=r,s.modalExercises._favoriteClickHandler=n,me(s.modalExercises),s.ratingButton.addEventListener("click",S)}function me(e){e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("show")},10),document.body.style.overflow="hidden"}function S(){s.modalExercises.classList.toggle("hidden"),s.modalExercises.classList.toggle("show"),s.modalRating.classList.toggle("hidden"),s.modalRating.classList.toggle("show")}function T(){s.modalExercises.classList.remove("show"),setTimeout(()=>{s.modalExercises.classList.add("hidden"),document.body.style.overflow=""},300),document.body.style.overflow="",s.closeModalBtn.removeEventListener("click",T),s.favoriteButton.removeEventListener("click",s.modalExercises._favoriteClickHandler),s.ratingButton.removeEventListener("click",S),window.removeEventListener("click",s.modalExercises._windowClickHandler),s.modalTitle.textContent="",s.modalRatingValue.textContent="",s.modalImage.src="",s.modalImage.alt="",s.modalTarget.textContent="",s.modalBodyPart.textContent="",s.modalEquipment.textContent="",s.modalPopular.textContent="",s.modalCalories.textContent="",s.modalDescription.textContent=""}L.exercisesContainer.addEventListener("click",async function(e){const t=e.target.closest(".start-button");if(t){const o=t.dataset.exerciseId;if(o)try{const n=await ie(o);ue(n)}catch(n){console.error("Error fetching exercise:",n)}finally{}}});const m=document.querySelector('[data-modal="rating"]'),g=m==null?void 0:m.querySelector("form"),k=g==null?void 0:g.querySelectorAll('input[name="rating"]'),ge=g==null?void 0:g.querySelector(".rating-value"),B=m==null?void 0:m.querySelector("[data-modal-close]");k==null||k.forEach(e=>{e.addEventListener("change",()=>{ge.textContent=e.value+".0"})});g==null||g.addEventListener("submit",he);async function he(e){var i;e.preventDefault();const t=e.target,o=+((i=t.querySelector('[name="rating"]:checked'))==null?void 0:i.value)||0,n=t.querySelector('[name="email"]').value.trim(),r=t.querySelector('[name="comment"]').value.trim();if(!o||!n||!r){f.error({title:"Please fiil in all fields"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(n)){f.error({title:"Type valid email"});return}try{const l=s.modalRating.exerciseData;if(!l)throw new Error("Exercise data is not available.");const c=l._id,h=await ae(c,{rate:o,email:n,review:r});$()}catch{}finally{}}B==null||B.addEventListener("click",$);function $(){m==null||m.classList.add("hidden"),S()}const fe="vanilla-app-template",pe="1.0.0",ye="module",ve={dev:"vite",build:"vite build --base=/your-energy/",preview:"vite preview"},we={glob:"^11.0.0",postcss:"^8.4.41","postcss-sort-media-queries":"^5.2.0",vite:"^5.4.6"},Ee="Alexander Repeta <alexander.repeta@gmail.com>",be="ISC",Le={axios:"^1.13.4",izitoast:"^1.4.0","lottie-web":"^5.13.0","vite-plugin-full-reload":"^1.2.0","vite-plugin-html-inject":"^1.1.2"},Se={name:fe,private:!0,version:pe,type:ye,scripts:ve,devDependencies:we,author:Ee,license:be,dependencies:Le},_=`${window.location.origin}${Se.homepage||""}`,xe=document.querySelectorAll('a[href^="/"]');function ke(){_&&xe.forEach(e=>{const t=e.getAttribute("href"),o=`${_}${t}`;e.href=new URL(o)})}const Be=async()=>{const{data:e}=await v.get("/quote");return e},F=()=>new Date().toISOString().split("T")[0],Te=async()=>{try{const e=await Be(),t=F(),o={...e,date:t};return localStorage.setItem("quoteOfTheDay",JSON.stringify(o)),o}catch(e){const{status:t}=e,o=N[t]||`Unexpected error (${e.message||"unknown"})`;throw{code:t,message:o}}},qe="modulepreload",Ie=function(e){return"/your-energy/"+e},P={},Ce=function(t,o,n){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(o.map(c=>{if(c=Ie(c),c in P)return;P[c]=!0;const p=c.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":qe,p||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),p)return new Promise((q,w)=>{d.addEventListener("load",q),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};class U{constructor({path:t=new URL("/your-energy/animations/loader.json",import.meta.url).href,size:o=200,color:n,timeout:r=1e3}={}){this._path=t,this._defaultSize=o,this._defaultColor=n??getComputedStyle(document.documentElement).getPropertyValue("--text-color").trim(),this._defaultTimeout=r??null,this._loadPromise=null,this._instances=new Map}async _loadLottie(){return this._loadPromise||(this._loadPromise=Ce(()=>import("./assets/vendor-DWeE5lQs.js").then(t=>t.l),__vite__mapDeps([0,1])).then(t=>t.default)),this._loadPromise}_resolveTarget(t){return typeof t=="string"?document.getElementById(t):t}async show(t,{size:o,color:n,timeout:r}={}){const a=this._resolveTarget(t);if(!a)throw new Error("Target not found");if(this._instances.has(a))return;const i=o??this._defaultSize,l=n??this._defaultColor,c=r??this._defaultTimeout;getComputedStyle(a).position==="static"&&(a.style.position="relative");const h=document.createElement("div");h.classList="loader-wrapper",h.style.cssText=`
			width: ${i}px;
			height: ${i}px;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			pointer-events: none;
			z-index: 10;
		`;const d=document.createElement("div");d.style.cssText="width: 100%; height: 100%;",h.appendChild(d),a.appendChild(h);const w=(await this._loadLottie()).loadAnimation({container:d,renderer:"svg",loop:!0,autoplay:!0,path:this._path});w.addEventListener("DOMLoaded",()=>{d.querySelectorAll("path").forEach(H=>H.setAttribute("fill",l))}),this._instances.set(a,{wrapper:h,animation:w,timeout:c}),c&&await new Promise(I=>setTimeout(I,c))}async hide(t){const o=this._resolveTarget(t);if(!o||!this._instances.has(o))return;const{wrapper:n,animation:r,timeout:a}=this._instances.get(o);r.destroy(),n.remove(),this._instances.delete(o)}}const R=new U({size:200,color:"#f4f4f4"});async function _e(){const e=document.querySelectorAll(".quote-day-card-text"),t=document.querySelectorAll(".quote-day-card-author");if(!e.length||!t.length)return;const o=Array.from(e).map(n=>n.parentElement).filter(Boolean);try{await Promise.all(o.map(c=>R.show(c)));const n=F(),r=localStorage.getItem("quoteOfTheDay"),a=r?JSON.parse(r):null;let i,l;if(a&&a.date===n)i=a.author,l=a.quote;else{const c=await Te();i=c.author,l=c.quote}e.forEach(c=>c.textContent=l||""),t.forEach(c=>c.textContent=i||"")}catch(n){console.error("renderQuoteOfTheDay error:",n)}finally{await Promise.all(o.map(n=>R.hide(n)))}}new U({size:200});function D(e){var n;const t=document.querySelector("#home-view"),o=document.querySelector("#favorites-view");!t||!o||(e==="home"&&(t.hidden=!1,o.hidden=!0),e==="favorites"&&(t.hidden=!0,o.hidden=!1,M()),document.querySelectorAll("[data-page]").forEach(r=>r.classList.remove("active")),(n=document.querySelector(`[data-page="${e}"]`))==null||n.classList.add("active"))}function Pe(){ke(),document.addEventListener("DOMContentLoaded",()=>{_e(),G(),D("home")}),document.addEventListener("click",t=>{const o=t.target.closest("[data-page]");o&&(t.preventDefault(),D(o.dataset.page),E==null||E())});const e=document.querySelector("#subscribe-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();try{const o=e.email.value;await W(o),e.reset()}catch(o){console.log(o)}}),u.burgerButton.addEventListener("click",te),u.closeButton.addEventListener("click",x),u.backdrop.addEventListener("click",oe),document.addEventListener("keydown",ne),u.navLinks.forEach(t=>t.addEventListener("click",E)),window.addEventListener("scroll",X),L.scrollToTopBtn.addEventListener("click",K)}Pe();
//# sourceMappingURL=index.js.map
